@page "/Debt"
<div class="main-content">

    <h2>Add Cash Income:</h2>
    <form class="income-form">
        <div class="form-group">
            <label for="amount">Amount:</label>
            <input type="text" @bind="amount" name="amount" placeholder="Enter amount" />
            <label for="type">Type:</label>
            <input type="text" id="type" name="type" placeholder="Enter type" />
        </div>
        <div class="form-group">
            <label for="date">Date:</label>
            <input type="date" @bind="date" name="date" />
            <label for="source">Source:</label>
            <input type="text" @bind="source" name="source" placeholder="Enter source" />
        </div>
        <select @bind="tag">
            @foreach (var i in Management_List.tgs)
            {
                <option value="i.name">@i.name</option>
            }
        </select>
        <div class="form-group">
            <label for="description">Add Description:</label>
            <textarea id="Notes" @bind="description" placeholder="Enter Notes"></textarea>
        </div>
        <button type="submit" @onclick="submit_button">Add Debt</button>
    </form>
</div>


@code {
    int amount;

    DateOnly date;

    string source;

    string tag;

    string description;

    public void submit_button() {
        if (string.IsNullOrEmpty(description))
        {
            description = "no description";
        }
    
        debt debts = new debt(amount, tag, date.ToString(), description, source);

        Management_List.debtList.Add(debts);
        jsonController.AddDataToJSONFile(Management_List.debtList);

    
    }




}


